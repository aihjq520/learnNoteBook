## npm

NPM（Node Package Manager），作为默认的JavaScript应用包管理器，与Node.js一同安装，它是目前使用最广泛的包管理器，得益于其对大量包的强大支持。

NPM的成长之路

在早期版本中，NPM缺乏对锁文件的支持，这意味着它无法维护应用所使用的依赖版本的确切记录。因此，版本控制的缺失常常导致兼容性问题，不同的环境可能会结束使用不同版本的依赖。此外，在更新之前，NPM允许在不同的机器上使用不同版本的包，这种灵活性不经意间可能导致重大变化，因为开发者可能会不经意间依赖于某个版本中存在而在另一个版本中缺失的特性或行为。后来，Yarn解决了这些问题，随后NPM也通过更新解决了这些问题。


NPM的优势与劣势

优势：

- 广泛的支持 — NPM托管着世界上最大的JavaScript包注册中心。
- 简化的依赖管理 — NPM以最简化的方式自动化查找、安装和管理依赖的过程。
- 易于使用 — NPM设置和使用简单，对所有技能级别的开发者都易于接入。


劣势：

- 磁盘空间 — 由于NPM使用嵌套依赖树方法保存包，如果不同的依赖需要它们，它需要更多的磁盘空间来保存同一包的多个副本。
- 依赖膨胀 — 如果依赖/包在长期内没有得到适当管理，可能会导致不必要地积累大量包，这可能会增加项目的大小并潜在引入兼容性问题。
- 性能 — 与其他包管理器相比，特别是对于有许多依赖的较大项目，NPM的安装可能会更慢，因为它顺序下载包。
- 尽管存在一些劣势，但NPM通过不断的更新和改进，成功解决了许多早期的问题，并继续为广大JavaScript开发者提供强大的依赖管理和包安装服务。对于大多数项目和开-发者而言，NPM依然是包管理的第一选择。

## yarn

Yarn（Yet Another Resource Negotiator），虽然这个名称听起来有些神秘，实际上它是由Facebook开发的一个Node包管理器，旨在解决当时NPM面临的一些问题。最初，NPM缺乏对依赖版本精确控制和锁文件概念的支持，这正是Yarn诞生的原因。与NPM在功能上有很多相似之处，但Yarn在某些方面提供了更多的优势。**因为npm新版本基本上已经解决了自身的老毛病，两者没有想象中那么大的区别。**

Yarn的工作方式

使用yarn init命令初始化一个项目，这会在项目中生成一个package.json文件。
通过命令yarn add <package_name>添加任何包。
如果你有一个预配置的项目，并且想要安装依赖，可以运行yarn install命令，这将从NPM注册中心下载所有依赖并生成一个锁文件。

Yarn的优点

- 更快的安装速度：与NPM相比，Yarn在安装包时可以并行执行，从而加快了安装速度。
- 离线支持：Yarn利用本地缓存加速安装过程。它在全局位置存储包的缓存，可以在不同项目之间共享，这样不仅提高了速度，还实现了NPM所没有的离线支持功能。使用yarn cache dir命令可以查看Yarn保存其包缓存的目录。
- 更少的磁盘使用：Yarn采用平级依赖结构，避免了包的重复和嵌套，从而最小化了磁盘使用。
- Monorepo支持：Yarn还旨在通过称为WORKSPACE的特性支持monorepo。Monorepo是一个单一的仓库，其中存在多个包，每个包都有自己的package.json。Yarn Workspaces通过从中心位置安装所有包的依赖来简化依赖管理。

Yarn的劣势

- 较少成熟的生态系统：虽然Yarn正在获得越来越多的关注，但NPM有着更长的历史和更广泛的社区支持。
- 有限的原生模块支持：可能不兼容一些依赖于NPM特定功能的特性或包。
- 依赖NPM注册中心：尽管Yarn在依赖管理上效率很高，但它依然依赖于NPM注册中心下载包。如果NPM面临任何问题，Yarn也会间接受到影响。


Yarn的出现标志着JavaScript包管理向前迈出的一大步。它不仅提高了包安装的速度和效率，还通过支持更先进的特性（如monorepo），为开发者社区带来了新的可能。尽管在某些方面它仍然依赖于NPM，但Yarn无疑为JavaScript开发者提供了一个强大而现代化的包管理选择。


### cnpm

cnpm与npm的不同两者之间只是node中包管理器的不同。npm是node官方的包管理器。cnpm是个中国版的npm，是淘宝定制的 cnpm (gzip 压缩支持) 代替默认的 npm。如果因为网络原因无法使用npm下载，那cnpm这个就派上用场了。npm和cnpm只是下载的地址不同，npm是从国外下载东西，cnpm是从国内下载东西。

### pnpm

PNPM，意为高性能的NPM，它旨在解决YARN和NPM出现的问题。PNPM通过引入一些与NPM和YARN相似却又具有明显改进的命令，为JavaScript项目的依赖管理带来了新的解决方案。

PNPM的优点

- 磁盘效率：PNPM使用全局存储方法，所有包在一个地方全局存储，不像NPM或Yarn那样。安装包时，PNPM会从全局存储中链接文件到项目的node_modules，因此我们不需要在每个应用中重复存储包，这使得它在磁盘使用上非常高效。
- 锁文件：尽管PNPM使用非平面的内部结构，但它通过一个称为锁文件（通常命名为pnpm-lock.yaml）的文件提供了依赖项的“扁平化视图”。
- 更快更轻：与NPM或YARN相比，PNPM更快、更轻，因为它利用缓存，并不是每次都安装包。如果包在全局中找到，它将在该项目/应用的node_module中附加符号链接/硬链接。
  
PNPM的劣势

- 较新的选手：虽然PNPM更快，但它在市场上相对较新，没有太多人了解它，而NPM和YARN已经存在了很长时间。
- 有限的原生模块支持：可能存在一些与依赖于NPM特定功能的某些原生模块的兼容性问题。
- 对全局存储的依赖：PNPM的全局包存储提供了效率优势，但也可能引入潜在的管理开销。例如，你可能需要考虑如何处理清除全局存储或如果多个项目需要同一个包的不同版本时的冲突管理。

PNPM通过其创新的全局存储和链接机制，提供了一个节省磁盘空间且性能出色的包管理方案。虽然它作为一个较新的选手可能在生态系统支持和原生模块兼容性方面存在一些挑战，但对于那些寻求更高效、更快速的依赖管理工具的开发者而言，PNPM无疑是一个值得尝试的选择。随着时间的推移和社区的支持，PNPM有潜力成为JavaScript开发者的又一重要工具。